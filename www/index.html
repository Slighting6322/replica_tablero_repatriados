<!-- ...existing code... -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Shiny necesita este tag para inyectar sus dependencias del head -->
  {{ headContent() }}

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Montserrat&family=Noto+Sans&display=swap" rel="stylesheet">
  
  <!-- CSS -->
  <link href="css/style.css" rel="stylesheet" />
  
  <title>Tablero</title>
</head>
<body>
  <div class="page">
    <header-gob></header-gob>

    <div class="page-wrapper">
      <div class="container-xl mt-4">

  <!-- La navegación se proporciona desde el header; no se muestran botones duplicados aquí -->

        <!-- SECCIÓN: INICIO -->
        <section id="seccion-home" class="seccion" data-seccion="home">
          <h1 class="page-title">Ocupación por centro de atención</h1>
          <p class="page-subtitle">Fecha de corte: {{fecha_corte_placeholder}}</p>
          <h2 class="titulo-barra">Ocupación general:</h2>
          <!-- Contenido principal / placeholder para el módulo home -->
          {{home_section}}
        </section>

        <!-- SECCIÓN: ORIGEN (oculta por defecto) -->
        <section id="seccion-origen" class="seccion" data-seccion="origen" style="display:none;">
          <h1 class="page-title">Deportaciones desde EEUU</h1>
          <p class="page-subtitle">Fecha de corte: {{fecha_corte_placeholder}}</p>
          <!-- Placeholder para el módulo origen -->
          {{origen_section}}
        </section>

      </div>
    </div> <!-- Fin de page-wrapper -->

    <footer-gob></footer-gob>
  </div>

  <!-- Scripts de componentes -->
  <script src="componentes/header.js"></script>
  <script src="componentes/footer.js"></script>

  <!-- Scripts de la app (el script está removido porque la app usa módulos Shiny ahora) -->

  <!-- Pequeño router/gestor de secciones y adaptación de links del header -->
  <script>
    (function () {
      function showSection(target) {
        document.querySelectorAll('.seccion').forEach(s => {
          s.style.display = (s.dataset.seccion === target) ? '' : 'none';
        });
        document.querySelectorAll('.btn-seccion').forEach(b => {
          b.setAttribute('aria-pressed', b.dataset.target === target ? 'true' : 'false');
        });
        history.replaceState(null, '', '#' + target);
      }

      // Interceptar clicks en los links del header y mostrar la sección correspondiente
      document.addEventListener('DOMContentLoaded', function () {
        const headerNav = document.querySelector('.header-nav');
        if (headerNav) {
          headerNav.querySelectorAll('a').forEach(a => {
            const href = a.getAttribute('href') || '';
            if (href.startsWith('#')) {
              a.addEventListener('click', function (ev) { ev.preventDefault(); showSection(href.replace('#','')); });
            } else if (href.endsWith('index.html') || href === './' || href === '/') {
              a.setAttribute('href', '#home');
              a.addEventListener('click', function (ev) { ev.preventDefault(); showSection('home'); });
            }
          });
        }

        // Mostrar según hash al cargar
        const hash = location.hash.replace('#', '');
        if (hash === 'origen') showSection('origen'); else showSection('home');
      });
    })();
  </script>
  <!-- módulos inyectados por htmlTemplate -->
  </body>
</html>